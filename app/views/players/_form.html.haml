%div{ class: "max-w-4xl mx-auto px-6 py-8 text-stone-900" }
  = form_with model: @player, local: true do |f|

    - if @player.errors.any?
      %div{ class: "mb-6 border border-red-400 p-4" }
        %h2{ class: "font-semibold text-red-600 mb-2" } Errors
        %ul{ class: "text-sm text-red-600" }
          - @player.errors.full_messages.each do |msg|
            %li= msg

    %div{ class: "grid grid-cols-1 sm:grid-cols-2 gap-4" }

      %div
        = f.label :name, class: "block text-sm"
        = f.text_field :name, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :age, class: "block text-sm"
        = f.number_field :age, class: "border border-stone-300 p-2 w-full"
      %div
        %label{ class: "flex items-center gap-2 text-sm" }
          = f.check_box :club_team
          Plays on a club team
      %div
        = f.label :tier, class: "block text-sm"
        = f.select :tier, options_for_select(Player::TIERS, @player.tier), { include_blank: true }, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :confidence_level, class: "block text-sm"
        = f.number_field :confidence_level, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :manual_adjustment, class: "block text-sm"
        = f.number_field :manual_adjustment, class: "border border-stone-300 p-2 w-full"

      %div{ class: "sm:col-span-2 mt-6" }
        %p{ class: "block text-sm mb-2 font-semibold" } Positions

        %div{ class: "grid grid-cols-2 sm:grid-cols-4 gap-3" }
          - Position.order(:name).each do |position|
            %label{ class: "flex items-center gap-2 text-sm" }
              = check_box_tag "player[position_ids][]", position.id, @player.positions.include?(position), class: "border border-stone-400"
              = position.name

        = hidden_field_tag "player[position_ids][]", ""

      %div{ class: "sm:col-span-2 mt-6" }
        %p{ class: "block text-sm mb-2 font-semibold" } Ratings (1â€“5)

      %div
        = f.label :pitching_rating, class: "block text-sm"
        = f.number_field :pitching_rating, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :hitting_rating, class: "block text-sm"
        = f.number_field :hitting_rating, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :infield_defense_rating, class: "block text-sm"
        = f.number_field :infield_defense_rating, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :outfield_defense_rating, class: "block text-sm"
        = f.number_field :outfield_defense_rating, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :catching_rating, class: "block text-sm"
        = f.number_field :catching_rating, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :baseball_iq, class: "block text-sm"
        = f.number_field :baseball_iq, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :athleticism, class: "block text-sm"
        = f.number_field :athleticism, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div
        = f.label :speed, class: "block text-sm"
        = f.number_field :speed, in: 1..5, class: "border border-stone-300 p-2 w-full"

      %div{ class: "sm:col-span-2 mt-4 flex items-center gap-6" }
        %label{ class: "flex items-center gap-2 text-sm" }
          = f.check_box :can_pitch
          Can pitch (game-usable)

        %label{ class: "flex items-center gap-2 text-sm" }
          = f.check_box :can_catch
          Can catch (game-usable)

    %div{ class: "mt-6" }
      = f.label :notes, class: "block text-sm"
      = f.text_area :notes, rows: 4, class: "border border-stone-300 p-2 w-full"

    %div{ class: "mt-4 flex items-center gap-2" }
      = f.check_box :risk_flag
      = f.label :risk_flag, "Risk Flag"

    %div{ class: "mt-8" }
      = f.submit class: "border border-stone-900 px-6 py-2 hover:bg-stone-900 hover:text-white"
