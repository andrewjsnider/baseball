%div{ class: "max-w-6xl mx-auto px-6 py-10 text-stone-900" }

  %h1{ class: "text-3xl font-semibold mb-6" } Draft Board

  %div{ class: "mb-8 text-sm" }
    Pitchers: #{@team.pitchers_count} |
    Catchers: #{@team.catchers_count} |
    Middle Infield: #{@team.middle_infield_count}

  - best = @ranked_players.first

  - if best
    %div{ class: "border-2 border-green-600 p-6 mb-12" }
      %p.text-sm.text-stone-600 Recommended Pick
      %h2.text-2xl.font-semibold.mb-3= best.name
      %p.mb-2 Positions: #{best.positions.pluck(:name).join(", ")}
      %p.mb-2 Recommendation Score: #{best.recommendation_score(@team)}
      %p.mb-4 Overall Score: #{best.overall_score}
      = button_to "Draft #{best.name}", draft_player_path(best, team_id: @team.id), method: :post, class: "border border-stone-900 px-4 py-2 hover:bg-stone-900 hover:text-white"

  %h2{ class: "text-xl font-semibold mb-4" } Full Ranked Board

  %table{ class: "w-full text-sm border-collapse" }
    %thead
      %tr{ class: "border-b border-stone-300 text-left" }
        %th.py-3 Rank
        %th.py-3 Name
        %th.py-3 Positions
        %th.py-3 Rec
        %th.py-3 Overall
        %th.py-3
    %tbody
      - @ranked_players.each_with_index do |player, index|
        %tr{ class: "border-b border-stone-200 hover:bg-stone-50" }
          %td.py-5= index + 1
          %td.py-5= link_to player.name, player_path(player), class: "underline"
          %td.py-5= player.positions.pluck(:name).join(", ")
          %td.py-5= player.recommendation_score(@team)
          %td.py-5= player.overall_score
          %td.py-5.flex.gap-2.items-center
            = button_to "Draft", draft_player_path(player, team_id: @team.id), method: :post, class: "border border-stone-900 px-3 py-1 hover:bg-stone-900 hover:text-white"
            = link_to "Assignâ€¦", assign_player_path(player), class: "ml-3 underline text-sm"

